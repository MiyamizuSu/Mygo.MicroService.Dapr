version: '3.4'

services:
  recall-seq:
    image: datalust/seq:latest
    extra_hosts:
      - "host.docker.internal:host-gateway"
  
  
  recall-sqldata:
    image: mcr.microsoft.com/mssql/server:2019-latest
    extra_hosts:
      - "host.docker.internal:host-gateway"


  recall-textlistapi:
    image: recall-textlistapi
    build:
      context: .
      dockerfile: Contrib/TextList.Api/Dockerfile
    extra_hosts:
      - "host.docker.internal:host-gateway"


  recall-textlistapi-dapr:
    image: "daprio/daprd:1.9.4"
    network_mode: "service:recall-textlistapi"
    depends_on:
      - recall-textlistapi
  
  
  recall-envoygateway:
    image: envoyproxy/envoy:v1.11.1
    extra_hosts:
      - "host.docker.internal:host-gateway"
        
        
  recall-envoygateway-dapr:
    image: "daprio/daprd:1.9.4"
    network_mode: "service:recall-envoygateway"
    depends_on:
      - recall-envoygateway
  
  
  recall-servicestatus:
    image: ${DOCKER_REGISTRY-}servicestatus
    build:
      context: .
      dockerfile: Infrastructure/ServiceStatus/Dockerfile

